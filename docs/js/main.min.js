"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var o=0;o<n.length;o++){var r=n[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,n,o){return n&&_defineProperties(e.prototype,n),o&&_defineProperties(e,o),e}$(document).ready(function(){new Validator({idEmail:"validate-email"})});var Validator=function(){function t(e){var n=this;_classCallCheck(this,t);var o=this.checkIdEmail(e),r=!1;return this.loadInfo().done(function(e){n.info=e,r=!0}).always(function(){o&&r&&n.emailForm.keypress(function(e){if(13===e.which)return e.preventDefault(),n.checkIt(),!0})}),!1}return _createClass(t,[{key:"checkIdEmail",value:function(e){return"idEmail"in e&&(this.emailForm=$("#"+e.idEmail),0!==this.emailForm.length)}},{key:"loadInfo",value:function(){var n=this;return $.get("json/info.json").then(function(e){return e}).fail(function(e){n.onCatchError(e)})}},{key:"isValid",value:function(){return!1}},{key:"checkIt",value:function(){console.log(this.emailForm.val())}},{key:"showError",value:function(e){console.log(e)}},{key:"showSuccess",value:function(e){console.log(e)}},{key:"onCatchError",value:function(e){var n=e.responseJSON,o=n&&n.error?n.error:e.statusText;console.log("ERROR: ",o)}}]),t}();